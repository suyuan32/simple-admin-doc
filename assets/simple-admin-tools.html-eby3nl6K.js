import{_ as i}from"./plugin-vue_export-helper-x3n3nnut.js";import{r as o,o as l,c as r,a,b as e,d as s,e as t}from"./app-KCtNLLRl.js";const p={},c=t('<h1 id="goctls" tabindex="-1"><a class="header-anchor" href="#goctls" aria-hidden="true">#</a> Goctls</h1><p>Goctls is a powerful tools for simple admin to gen codes, based on goctl. It provides more addition features than origin project such as:</p><ul><li>go-swagger : it is different with origin which uses @doc comments</li><li>multi-language support</li><li>optimize error message</li><li>fully support validator and easy to use</li><li>code auto generation for API, RPC and web</li><li>error handling which support multi-languages</li><li>so on</li></ul>',3),d={class:"hint-container info"},u=a("p",{class:"hint-container-title"},"Info",-1),m={href:"https://youtu.be/20XifykiXZc",target:"_blank",rel:"noopener noreferrer"},v=a("h2",{id:"tool-installation",tabindex:"-1"},[a("a",{class:"header-anchor",href:"#tool-installation","aria-hidden":"true"},"#"),e(" Tool Installation")],-1),b={href:"https://github.com/suyuan32/goctls",target:"_blank",rel:"noopener noreferrer"},h=t(`<div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>go <span class="token function">install</span> github.com/suyuan32/goctls@latest
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="hint-container warning"><p class="hint-container-title">Warning</p><p>Starting from version v1.5.16, you can use <code>goctls upgrade</code> command is to upgrade the goctls.</p></div><h2 id="auto-fix-all-dependencies-command" tabindex="-1"><a class="header-anchor" href="#auto-fix-all-dependencies-command" aria-hidden="true">#</a> Auto fix all dependencies command</h2><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>goctls <span class="token function">env</span> check <span class="token parameter variable">-i</span> <span class="token parameter variable">-f</span> <span class="token parameter variable">--verbose</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Run this command can auto install protoc, swagger and so on.</p><h2 id="api-command" tabindex="-1"><a class="header-anchor" href="#api-command" aria-hidden="true">#</a> API command</h2><blockquote><p>The command is the same as goctl, but you should use goctls instead.</p></blockquote><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>$ goctls api <span class="token parameter variable">-h</span>
Generate api related files

Usage:
  goctls api <span class="token punctuation">[</span>flags<span class="token punctuation">]</span>
  goctls api <span class="token punctuation">[</span>command<span class="token punctuation">]</span>

Available Commands:
  doc         Generate doc files
  ent         Generate CRUD logic files from ent <span class="token function">file</span>
  <span class="token function">format</span>      Format api files
  go          Generate go files <span class="token keyword">for</span> provided api <span class="token keyword">in</span> api <span class="token function">file</span>
  new         Fast create api <span class="token function">service</span>
  plugin      Custom <span class="token function">file</span> generator
  proto       Generate CRUD template from proto <span class="token function">file</span>
  validate    Validate api <span class="token function">file</span>

Flags:
      <span class="token parameter variable">--branch</span> string   The branch of the remote repo, it does work with <span class="token parameter variable">--remote</span>
  -h, <span class="token parameter variable">--help</span>            <span class="token builtin class-name">help</span> <span class="token keyword">for</span> api
      <span class="token parameter variable">--home</span> string     The goctl home path of the template, <span class="token parameter variable">--home</span> and <span class="token parameter variable">--remote</span> cannot be <span class="token builtin class-name">set</span> at the same time, <span class="token keyword">if</span> they are, <span class="token parameter variable">--remote</span> has higher priority
      <span class="token parameter variable">--o</span> string        Output a sample api <span class="token function">file</span>
      <span class="token parameter variable">--remote</span> string   The remote <span class="token function">git</span> repo of the template, <span class="token parameter variable">--home</span> and <span class="token parameter variable">--remote</span> cannot be <span class="token builtin class-name">set</span> at the same time, <span class="token keyword">if</span> they are, <span class="token parameter variable">--remote</span> has higher priority
                        The <span class="token function">git</span> repo directory must be consistent with the https://github.com/zeromicro/go-zero-template directory structure


Use <span class="token string">&quot;goctls api [command] --help&quot;</span> <span class="token keyword">for</span> <span class="token function">more</span> information about a command.
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>Example:</p></blockquote><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>goctls api go <span class="token parameter variable">-api</span> core.api <span class="token parameter variable">-dir</span> <span class="token builtin class-name">.</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>This means generating go files by core.api&#39;s declaration in current directory. -dir set the output path.</p><h2 id="rpc-command" tabindex="-1"><a class="header-anchor" href="#rpc-command" aria-hidden="true">#</a> Rpc command</h2><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>$ goctls rpc protoc <span class="token parameter variable">-h</span>
Generate grpc code

Usage:
  goctls rpc protoc <span class="token punctuation">[</span>flags<span class="token punctuation">]</span>

Examples:
goctls rpc protoc xx.proto <span class="token parameter variable">--go_out</span><span class="token operator">=</span>./pb --go-grpc_out<span class="token operator">=</span>./pb <span class="token parameter variable">--zrpc_out</span><span class="token operator">=</span>.

Flags:
      <span class="token parameter variable">--branch</span> string     The branch of the remote repo, it does work with <span class="token parameter variable">--remote</span>
  -c, <span class="token parameter variable">--client</span>            Whether to generate client <span class="token punctuation">(</span>default <span class="token boolean">true</span><span class="token punctuation">)</span>
  -h, <span class="token parameter variable">--help</span>              <span class="token builtin class-name">help</span> <span class="token keyword">for</span> protoc
      <span class="token parameter variable">--home</span> string       The goctl home path of the template, <span class="token parameter variable">--home</span> and <span class="token parameter variable">--remote</span> cannot be <span class="token builtin class-name">set</span> at the same time, <span class="token keyword">if</span> they are, <span class="token parameter variable">--remote</span> has higher priority
  -m, <span class="token parameter variable">--multiple</span>          Generated <span class="token keyword">in</span> multiple rpc <span class="token function">service</span> mode
      <span class="token parameter variable">--remote</span> string     The remote <span class="token function">git</span> repo of the template, <span class="token parameter variable">--home</span> and <span class="token parameter variable">--remote</span> cannot be <span class="token builtin class-name">set</span> at the same time, <span class="token keyword">if</span> they are, <span class="token parameter variable">--remote</span> has higher priority
                          The <span class="token function">git</span> repo directory must be consistent with the https://github.com/zeromicro/go-zero-template directory structure
  -s, <span class="token parameter variable">--style</span> string      The <span class="token function">file</span> naming format, see <span class="token punctuation">[</span>https://github.com/zeromicro/go-zero/blob/master/tools/goctl/config/readme.md<span class="token punctuation">]</span> <span class="token punctuation">(</span>default <span class="token string">&quot;go_zero&quot;</span><span class="token punctuation">)</span>
  -v, <span class="token parameter variable">--verbose</span>           Enable log output
      <span class="token parameter variable">--zrpc_out</span> string   The zrpc output directory

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>Example: <br> Generate proto template</p></blockquote><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>goctls rpc template <span class="token parameter variable">-o</span><span class="token operator">=</span>user.proto
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>syntax <span class="token operator">=</span> <span class="token string">&quot;proto3&quot;</span><span class="token punctuation">;</span>

package user<span class="token punctuation">;</span>
option <span class="token assign-left variable">go_package</span><span class="token operator">=</span><span class="token string">&quot;. /user&quot;</span><span class="token punctuation">;</span>

message Request <span class="token punctuation">{</span>
  string <span class="token function">ping</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

message Response <span class="token punctuation">{</span>
  string pong <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token function">service</span> User <span class="token punctuation">{</span>
  rpc Ping<span class="token punctuation">(</span>Request<span class="token punctuation">)</span> returns<span class="token punctuation">(</span>Response<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>Generate go files</p></blockquote><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>goctls rpc protoc user.proto <span class="token parameter variable">--go_out</span><span class="token operator">=</span>. --go-grpc_out<span class="token operator">=</span>. <span class="token parameter variable">--zrpc_out</span><span class="token operator">=</span>.
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div>`,18),g={class:"hint-container info"},k=a("p",{class:"hint-container-title"},"Info",-1),f={href:"https://go-zero.dev/docs/goctl/zrpc",target:"_blank",rel:"noopener noreferrer"},_=a("div",{class:"hint-container warning"},[a("p",{class:"hint-container-title"},"Warning"),a("p",null,[e("We provide "),a("code",null,"make gen-rpc"),e(" and "),a("code",null,"make gen-api"),e(" for quick generation of official code")])],-1);function y(w,x){const n=o("ExternalLinkIcon");return l(),r("div",null,[c,a("div",d,[u,a("p",null,[a("a",m,[e("Official Video Tutorial"),s(n)])])]),v,a("p",null,[e("Starting from v1.5.14, the tool has been moved to a new repository for faster iteration and updates "),a("a",b,[e("repository address â†—"),s(n)]),e(", and now supports direct command installation, no longer requiring code cloning.")]),h,a("div",g,[k,a("p",null,[e("You can get "),a("a",f,[e("More Document"),s(n)]),e(" on go zero official website.")])]),_])}const z=i(p,[["render",y],["__file","simple-admin-tools.html.vue"]]);export{z as default};
